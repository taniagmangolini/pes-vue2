webpackJsonp([1],{"/gS7":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("Xxa5"),i=a.n(s),l=a("mvHQ"),o=a.n(l),r=a("exGp"),c=a.n(r),u=a("mtWM"),d=a.n(u),v={data:function(){return{disabled:!1,loading:!1,ready:!1,file:null,fileName:"",minProteins:"",toleranceFactor:"",nullDistributions:"",pvalue:"",taxonId:"",json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],json_fields:{conditionName:"conditionName",goId:"goId",geneName:"geneName",qualifier:"qualifier","aspect ":"aspect","pvalue ":"pvalue","qvalue ":"qvalue","rank ":"rank","weight ":"weight","core ":"core"}}},methods:{onFileChanged:function(t){console.log("entrou onFileChanged"),this.file=t.target.files[0],this.fileName=this.file.name},send:function(){var t=this;return c()(i.a.mark(function e(){var a,n,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.ready=!1,t.json_data=[],t.disabled=!0,a=!1,n="",console.log("file: "+t.file),console.log("nullDistributions: "+t.nullDistributions),console.log("taxonId: "+t.taxonId),console.log("minProteins: "+t.minProteins),console.log("pvalue: "+t.pvalue),console.log("toleranceFactor: "+t.toleranceFactor),""!=t.file&&null!=t.file&&void 0!=t.file||(n=" Is necessary to upload a file!\n",a=!0),""!=t.taxonId&&null!=t.taxonId&&void 0!=t.taxonId||(n+=" Is necessary to select the taxon\n",a=!0),(""==t.minProteins||null==t.minProteins||void 0==t.minProteins||isNaN(t.minProteins)||t.minProteins<=0)&&(n+=" Is necessary to set a valid minimum number of proteins! \n",a=!0),(""==t.nullDistributions||null==t.nullDistributions||void 0==t.nullDistributions||isNaN(t.nullDistributions)||t.nullDistributions<0)&&(n+=" Is necessary to set a valid number of null distributions! \n",a=!0),(""==t.toleranceFactor||null==t.toleranceFactor||void 0==t.toleranceFactor||isNaN(t.toleranceFactor)||t.toleranceFactor<0&&t.toleranceFactor>1)&&(n+=" Is necessary to inform a valid tolerance factor! \n",a=!0),(""==t.pvalue||null==t.pvalue||void 0==t.pvalue||isNaN(t.pvalue)||t.pvalue>1)&&(n+=" Is necessary to inform a valid pvalue! \n",a=!0),a?(alert(n),t.loading=!1,t.ready=!1,t.disabled=!1):(s={"Content-Type":"multipart/form-data"},(l=new FormData).append("file",t.file),l.append("nullDistributions",t.nullDistributions),l.append("taxonId",t.taxonId),l.append("minProteins",t.minProteins),l.append("pvalue",t.pvalue),l.append("toleranceFactor",t.toleranceFactor),d.a.post("http://pes-pes.1d35.starter-us-east-1.openshiftapps.com//pes/map",l,s).then(function(e){for(var a in e.data){var n=o()(e.data[a]),s=JSON.parse(n);for(var i in s){var l=o()(s[i]);console.log("conditionAsString"+l);var r=JSON.parse(l);t.json_data.push(r)}}t.loading=!1,t.ready=!0,t.disabled=!1}).catch(function(e){t.loading=!1,t.disabled=!1,t.ready=!1,console.log(e)}));case 19:case"end":return e.stop()}},e,t)}))()}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{method:"POST",enctype:"multipart/form-data"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"file has-name is-fullwidth"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file"},on:{change:t.onFileChanged}}),t._v(" "),t._m(0),t._v(" "),a("span",{staticClass:"file-name"},[t._v("\n                    "+t._s(t.fileName)+"\n                ")])])]),t._v(" "),a("div",{staticClass:"field has-text-left"},[a("label",{staticClass:"label"},[t._v("Taxon*")]),t._v(" "),a("div",{staticClass:"control has-text-centered"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.taxonId,expression:"taxonId"}],attrs:{name:"taxonId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.taxonId=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"3077"}},[t._v("Chrorella")]),t._v(" "),a("option",{attrs:{value:"3055"}},[t._v("Chlamydomonas reinhardtii")]),t._v(" "),a("option",{attrs:{value:"9606"}},[t._v("Human")]),t._v(" "),a("option",{attrs:{value:"10116"}},[t._v("Rattus norvegicus")]),t._v(" "),a("option",{attrs:{value:"10117"}},[t._v("Rattus rattus")]),t._v(" "),a("option",{attrs:{value:"4547"}},[t._v("Saccharum officinarum")]),t._v(" "),a("option",{attrs:{value:"4558"}},[t._v("Sorghum bicolor")]),t._v(" "),a("option",{attrs:{value:"4557"}},[t._v("Zea mays")])])])])]),t._v(" "),a("div",{staticClass:" columns is-multiline"},[a("div",{staticClass:"column is-half field has-text-left"},[a("label",{staticClass:"label"},[t._v("Minimum Number Of Proteins*")]),t._v(" "),a("div",{staticClass:"control has-text-centered"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.minProteins,expression:"minProteins"}],staticClass:"input",attrs:{type:"text",name:"minProteins"},domProps:{value:t.minProteins},on:{input:function(e){e.target.composing||(t.minProteins=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"column is-half field has-text-left"},[a("label",{staticClass:"label"},[t._v("Null Distributions*")]),t._v(" "),a("div",{staticClass:"control has-text-centered"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nullDistributions,expression:"nullDistributions"}],staticClass:"input",attrs:{type:"text",name:"nullDistributions"},domProps:{value:t.nullDistributions},on:{input:function(e){e.target.composing||(t.nullDistributions=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:" columns is-multiline"},[a("div",{staticClass:"column is-half field has-text-left"},[a("label",{staticClass:"label"},[t._v("Tolerance Factor*")]),t._v(" "),a("div",{staticClass:"control has-text-centered"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.toleranceFactor,expression:"toleranceFactor"}],staticClass:"input",attrs:{type:"text",name:"toleranceFactor"},domProps:{value:t.toleranceFactor},on:{input:function(e){e.target.composing||(t.toleranceFactor=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"column is-half field has-text-left"},[a("label",{staticClass:"label"},[t._v("P-Value*")]),t._v(" "),a("div",{staticClass:"control has-text-centered"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pvalue,expression:"pvalue"}],staticClass:"input",attrs:{type:"text",name:"pvalue"},domProps:{value:t.pvalue},on:{input:function(e){e.target.composing||(t.pvalue=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:" columns is-multiline"},[a("div",{staticClass:"column is-half has-text-left"},[a("a",{staticClass:"button is-link",attrs:{disabled:t.disabled},on:{click:t.send}},[t._v("Submit")])]),t._v(" "),!t.loading&&t.ready?a("div",{staticClass:"column is-half has-text-right"},[a("download-excel",{staticClass:"btn btn-default",attrs:{data:t.json_data,fields:t.json_fields,name:"result.xls"}},[t._v("\n                    Download the result:  "),a("i",{staticClass:"fa fa-file-excel-o",staticStyle:{"font-size":"30px",color:"green"}})])],1):t._e()]),t._v("\n        "+t._s(t.errorMsg)+"\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"file-cta"},[e("span",{staticClass:"file-icon"},[e("i",{staticClass:"fas fa-upload"})]),this._v(" "),e("span",{staticClass:"file-label"},[this._v("\n                            Choose a fileâ€¦\n                        ")])])}]};var f={name:"app",components:{ParametersForm:a("VU/8")(v,m,!1,function(t){a("t+UL")},null,null).exports},data:function(){return{}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("section",{staticClass:"hero is-bold is-fullheight "},[this._m(0),this._v(" "),e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container has-text-centered"},[e("div",{staticClass:"row"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half is-offset-one-quarter"},[e("parameters-form")],1)])])])]),this._v(" "),this._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title is-1"},[t._v("\n        PES\n      ")]),t._v(" "),a("h2",{staticClass:"subtitle"},[a("strong",[t._v("P")]),t._v("rotein "),a("strong",[t._v("E")]),t._v("nrichment "),a("strong",[t._v("S")]),t._v("ystem\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hero-foot"},[e("div",{staticClass:"container"},[e("div",{staticClass:"content has-text-centered"})])])}]};var h=a("VU/8")(f,p,!1,function(t){a("/gS7"),a("NPIW")},null,null).exports,x=a("/ocq");n.a.use(x.a);var _=new x.a({}),g=a("pFYg"),b=a.n(g),C=a("fZjL"),y=a.n(C),N=a("sJst"),w=a.n(N),P={props:{type:{type:String,default:"xls"},data:{type:Array,required:!0},fields:{type:Object,required:!0},title:{default:null},name:{type:String,default:"data.xls"},meta:{type:Array,default:function(){return[]}}},computed:{idName:function(){return"export_"+(new Date).getTime()}},methods:{generate:function(){if(this.data.length){var t=this.getProcessedJson(this.data,this.fields);return"csv"==this.type?this.export(this.jsonToCSV(t),this.name,"application/csv"):this.export(this.jsonToXLS(t),this.name,"application/vnd.ms-excel")}},export:function(t,e,a){var n=this.base64ToBlob(t,a);w()(n,e,a)},jsonToXLS:function(t){var e="<thead><tr>";if(null!=this.title)if(Array.isArray(this.title))for(var a=0;a<this.title.length;a++)e+='<th colspan="'+y()(t[0]).length+'">'+this.title[a]+"<th></tr><tr>";else e+='<th colspan="'+y()(t[0]).length+'">'+this.title+"<th></tr><tr>";for(var n in t[0])e+="<th>"+n+"</th>";return e+="</tr></thead>",e+="<tbody>",t.map(function(t,a){for(var n in e+="<tbody><tr>",t)e+="<td>"+t[n]+"</td>";e+="</tr></tbody>"}),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>${table}</table></body></html>'.replace("${table}",e)},jsonToCSV:function(t){var e="";if(null!=this.title)if(Array.isArray(this.title))for(var a=0;a<this.title.length;a++)e+=this.title[a]+"\r\n";else e+=this.title+"\r\n";for(var n in t[0])e+=n+",";return e=e.slice(0,e.length-1),e+="\r\n",t.map(function(t){for(var a in t){var n=t[a]+"";n.match(/[,"\n]/)&&(n='"'+n.replace(/\"/g,'""')+'"'),e+=n+","}e=e.slice(0,e.length-1),e+="\r\n"}),e},getProcessedJson:function(t,e){var a=this.getKeys(t,e),n=[],s=this;return t.map(function(t,e){var i={};for(var l in a){var o=a[l];i[l]=s.getNestedData(o,t)}n.push(i)}),n},getKeys:function(t,e){if(e)return e;var a={};for(var n in t[0])a[n]=n;return a},callItemCallback:function(t,e){return"object"===(void 0===t?"undefined":b()(t))&&"function"==typeof t.callback?t.callback(e):e},getNestedData:function(t,e){var a=null,n=("object"===(void 0===t?"undefined":b()(t))?t.field:t).split(".");a=e[n[0]];for(var s=1;s<n.length;s++)a=a[n[s]];return a=this.callItemCallback(t,a)},base64ToBlob:function(t,e){for(var a=window.btoa(window.unescape(encodeURIComponent(t))),n=atob(a),s=n.length,i=new Uint8ClampedArray(s);s--;)i[s]=n.charCodeAt(s);return new Blob([i],{type:e})}}},F={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.idName},on:{click:this.generate}},[this._t("default",[this._v("\n\t\tDownload "+this._s(this.name)+"\n\t")])],2)},staticRenderFns:[]},I=a("VU/8")(P,F,!1,null,null,null).exports;n.a.config.productionTip=!1,n.a.component("downloadExcel",I),n.a.use(d.a),new n.a({el:"#app",router:_,components:{App:h},template:"<App/>"})},NPIW:function(t,e){},"t+UL":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7bf54c35f9b0eb06109e.js.map